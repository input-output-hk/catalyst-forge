
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="The Project Catalyst Team">
      
      
        <link rel="canonical" href="https://input-output-hk.github.io/catalyst-forge/tutorials/getting_started/">
      
      
        <link rel="prev" href="../../installation/">
      
      
        <link rel="next" href="../../concepts/projects/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Getting Started - Catalyst Forge</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Catalyst Forge" class="md-header__button md-logo" aria-label="Catalyst Forge" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 5v5c4.03 2.47-.56 4.97-3 6v3h15v-3c-6.41-2.73-3.53-7 1-8V5zM2 6c.81 2.13 2.42 3.5 5 4V6z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Catalyst Forge
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting Started
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="deep-orange" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Catalyst Forge" class="md-nav__button md-logo" aria-label="Catalyst Forge" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 5v5c4.03 2.47-.56 4.97-3 6v3h15v-3c-6.41-2.73-3.53-7 1-8V5zM2 6c.81 2.13 2.42 3.5 5 4V6z"/></svg>

    </a>
    Catalyst Forge
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
  
  
    <li class="md-nav__item">
      <a href="../../blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    News
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Project Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-an-earthfile" class="md-nav__link">
    <span class="md-ellipsis">
      Creating an Earthfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating an Earthfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking" class="md-nav__link">
    <span class="md-ellipsis">
      Checking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    <span class="md-ellipsis">
      Building
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#containerizing" class="md-nav__link">
    <span class="md-ellipsis">
      Containerizing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#releasing" class="md-nav__link">
    <span class="md-ellipsis">
      Releasing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-blueprint" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a Blueprint
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding a Blueprint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-releases" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Releases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-locally" class="md-nav__link">
    <span class="md-ellipsis">
      Testing Locally
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submiting-to-ci" class="md-nav__link">
    <span class="md-ellipsis">
      Submiting to CI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releasing-and-publishing" class="md-nav__link">
    <span class="md-ellipsis">
      Releasing and Publishing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/projects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Projects
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/ci/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CI
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Reference
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Reference
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/blueprint/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Blueprints
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/deployments/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deployments
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Releases
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            Releases
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/releases/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/releases/docker/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Docker
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/releases/github/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../reference/targets/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Targets
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Project Setup
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-an-earthfile" class="md-nav__link">
    <span class="md-ellipsis">
      Creating an Earthfile
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating an Earthfile">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#checking" class="md-nav__link">
    <span class="md-ellipsis">
      Checking
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building" class="md-nav__link">
    <span class="md-ellipsis">
      Building
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#testing" class="md-nav__link">
    <span class="md-ellipsis">
      Testing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#containerizing" class="md-nav__link">
    <span class="md-ellipsis">
      Containerizing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#releasing" class="md-nav__link">
    <span class="md-ellipsis">
      Releasing
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#adding-a-blueprint" class="md-nav__link">
    <span class="md-ellipsis">
      Adding a Blueprint
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Adding a Blueprint">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configuring-releases" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Releases
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#testing-locally" class="md-nav__link">
    <span class="md-ellipsis">
      Testing Locally
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#submiting-to-ci" class="md-nav__link">
    <span class="md-ellipsis">
      Submiting to CI
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#releasing-and-publishing" class="md-nav__link">
    <span class="md-ellipsis">
      Releasing and Publishing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      Conclusion
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="getting-started">Getting Started</h1>
<p>In this tutorial, we will create a sample project that will be automatically validated, built, and published by Catalyst Forge.
During this process, we will encounter the various tools and configurations that power Catalyst Forge.
By the end of this tutorial, you will be equipped to begin developing your own projects.</p>
<p>We will be building a trivial program in the Python language in order to facilitate learning.
Python was chosen due to its simplicity and more well-known nature.
Understanding the Python language is not required, and more adventerous learners may choose to substitute the code with their
language of choice.
Catalyst Forge is language agnostic; all that is required is knowing how to build and validate your language of choice.</p>
<h2 id="pre-requisites">Pre-requisites</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>External contributors will only be able to partially complete this tutorial.
This is due to the fact that permissions on most repositories (including the playground) do not allow external contributors to
arbitrarily merge code.
If you're an external contributor, feel free to follow the tutorial up to the point where merging is required.</p>
</div>
<p>Prior to starting this tutorial, please ensure you have the following available on your machine:</p>
<ol>
<li>The latest version of the <a href="https://github.com/input-output-hk/catalyst-forge/releases">forge CLI</a></li>
<li>A recent version of <a href="https://earthly.dev/">Earthly</a> installed and configured</li>
</ol>
<h2 id="project-setup">Project Setup</h2>
<p>To begin, clone the <a href="https://github.com/input-output-hk/catalyst-forge-playground">catalyst-forge-playground</a> locally.
Next, copy the <code>examples/python</code> directory to a new directory under <code>users</code> using your GitHub username:</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>-r<span class="w"> </span>examples/python<span class="w"> </span>users/myusername
</code></pre></div>
<p>The example consists of a simple Python CLI that takes a single argument and prints: <code>"Hello, &lt;arg&gt;!</code> to the screen.
The project was created using the <a href="https://docs.astral.sh/uv/">uv</a> CLI.
The Python package has already been configured to install itself as a script named <code>hello</code>.</p>
<h2 id="creating-an-earthfile">Creating an Earthfile</h2>
<p>Catalyst Forge uses <a href="https://earthly.dev/">Earthly</a> underneath the hood for creating the CI pipeline.
It's recommended you take time to become familiar with Earthly and run through their onboarding documentation.
In this tutorial we will create various Earthly "targets" that will be responsible for performing specific steps in the pipeline.</p>
<p>To begin, we will create a simple <code>Earthfile</code> in our folder that will validate our code for us:</p>
<div class="highlight"><pre><span></span><code>VERSION 0.8

uv:
    FROM ghcr.io/astral-sh/uv:0.4.12

    SAVE ARTIFACT /uv uv

deps:
    FROM python:3.12-slim-bookworm

    ENV UV_COMPILE_BYTECODE=0

    WORKDIR /work

    COPY +uv/uv /usr/local/bin/uv
    COPY pyproject.toml uv.lock README.md .

    RUN uv sync --frozen --no-install-project

src:
    FROM +deps

    COPY --dir src README.md .
</code></pre></div>
<p>Most of the above targets are there to install <code>uv</code> in the container and initialize the container environment.
The <code>src</code> target will contain all of the code and dependencies we need to run our application.</p>
<h3 id="checking">Checking</h3>
<p>Add the following target to the <code>Earthfile</code>:</p>
<div class="highlight"><pre><span></span><code>check:
    FROM +src

    RUN uv sync --frozen --no-install-project --extra dev

    RUN uv run black --check .
    RUN uv run ruff check .
</code></pre></div>
<p>The <code>check</code> target is automatically run for us as the first step in the CI pipeline.
It's intended to have a short execution time.
In the above case, we are validating formatting and performing linting, both which tend to execute relatively quickly.</p>
<p>Validate that the <code>check</code> target passes with no issues:</p>
<div class="highlight"><pre><span></span><code>forge run +check
</code></pre></div>
<p>When testing a target locally, it's recommended you use the <code>forge</code> CLI over the native <code>earthly</code> CLI.
During CI runs, the <code>forge</code> CLI is used to execute all Earthly targets.
This ensures more consistency between running the target locally and when running it in CI, as the CLI adds several additional
features that are not natively present in Earthly.</p>
<h3 id="building">Building</h3>
<p>We will build our CLI as a Python wheel to make distributing/publishing it easier.
To do this, add a new <code>build</code> target to the <code>Earthfile</code>:</p>
<div class="highlight"><pre><span></span><code>build:
    FROM +src

    RUN uv build --wheel

    SAVE ARTIFACT dist dist
</code></pre></div>
<p>Like the previous target, the <code>build</code> target is also called by CI.
This ensures that the <code>build</code> can run successfully before calling additional targets that might rely on it (it also caches it).
In the above case, <code>uv</code> will build our wheel and place it in the <code>dist/</code> folder for us.
We save the entire folder as an artifact for later targets to use.</p>
<h3 id="testing">Testing</h3>
<p>For running our tests, we will add a <code>test</code> target to the <code>Earthfile</code>:</p>
<div class="highlight"><pre><span></span><code>test:
    FROM +src

    COPY --dir tests .

    RUN uv sync --frozen --extra dev
    RUN uv run pytest .
</code></pre></div>
<p>Like the <code>check</code> target, the <code>test</code> target is also called by CI.
It's intended to be used for running all tests in a project (including unit and integration tests).
Since we're using <code>pytest</code>, we only need to call it for our simple unit test to run.</p>
<h3 id="containerizing">Containerizing</h3>
<p>We will now create our first "release" target.
These targets are special in that they each serve different purposes but generally fall into the "release" category.
Unlike the other targets, release targets are not required to be a specific name, although it's common to use the same name as the
release type.</p>
<p>We will start by creating our <code>docker</code> release target.
As the name suggests, this release type is responsible for building the container that will be published to configured registries.
To do this, add a new <code>docker</code> target to the <code>Earthfile</code>:</p>
<div class="highlight"><pre><span></span><code>docker:
    FROM python:3.12-slim

    ARG container=hello
    ARG tag=latest

    WORKDIR /app

    COPY +build/dist dist

    RUN pip install dist/*.whl

    SAVE IMAGE ${container}:${tag}
</code></pre></div>
<p>This target copies the wheel from the <code>build</code> target and then globally installs it into the container.
Since we've configured a script entry in our <code>pyproject.toml</code>, the CLI can be run by executing <code>hello</code>.</p>
<p>The CI will automatically pass in the <code>container</code> and <code>tag</code> arguments in order to set the container name.
These arguments are not optional and must be included in all docker release targets.</p>
<p>Let's now build our image and make sure it works:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>forge<span class="w"> </span>run<span class="w"> </span>+docker
$<span class="w"> </span>docker<span class="w"> </span>run<span class="w"> </span>hello:latest<span class="w"> </span><span class="nb">test</span>
Hello,<span class="w"> </span>test!
</code></pre></div>
<p>Unlike the other targets, all release targets are run in parallel in a single step of the CI pipeline.
The release targets are generally run towards the end of the CI pipeline after all projects have been built and validated.
We will configure the specifics of this release target in a later step.</p>
<h3 id="releasing">Releasing</h3>
<p>The second release target, and our final target in the tutorial, will be the <code>github</code> target.
This release type is responsible for building and uploading artifacts from our project into a new GitHub release.
Like the previous release type, we will add a <code>github</code> target to the Earthfile:</p>
<div class="highlight"><pre><span></span><code>github:
    FROM scratch

    COPY +build/dist dist

    SAVE ARTIFACT dist/* hello.whl
</code></pre></div>
<p>This release type expects artifacts to be produced by the target.
All artifacts are archived, compressed, and uploaded as assets when a new release is created.</p>
<p>In this case, we output our Python wheel as an artifact, which is itself a sort of archive.
You can validate this behavior by running the following:</p>
<div class="highlight"><pre><span></span><code>$<span class="w"> </span>forge<span class="w"> </span>run<span class="w"> </span>--artifact<span class="w"> </span>out<span class="w"> </span>+release
$<span class="w"> </span>unzip<span class="w"> </span>-l<span class="w"> </span>out/linux/amd64/dist
Archive:<span class="w">  </span>out/linux/amd64/dist
<span class="w">  </span>Length<span class="w">      </span>Date<span class="w">    </span>Time<span class="w">    </span>Name
---------<span class="w">  </span>----------<span class="w"> </span>-----<span class="w">   </span>----
<span class="w">        </span><span class="m">0</span><span class="w">  </span><span class="m">02</span>-02-2020<span class="w"> </span><span class="m">00</span>:00<span class="w">   </span>hello/__init__.py
<span class="w">      </span><span class="m">241</span><span class="w">  </span><span class="m">02</span>-02-2020<span class="w"> </span><span class="m">00</span>:00<span class="w">   </span>hello/hello.py
<span class="w">      </span><span class="m">288</span><span class="w">  </span><span class="m">02</span>-02-2020<span class="w"> </span><span class="m">00</span>:00<span class="w">   </span>hello-0.1.0.dist-info/METADATA
<span class="w">       </span><span class="m">87</span><span class="w">  </span><span class="m">02</span>-02-2020<span class="w"> </span><span class="m">00</span>:00<span class="w">   </span>hello-0.1.0.dist-info/WHEEL
<span class="w">       </span><span class="m">42</span><span class="w">  </span><span class="m">02</span>-02-2020<span class="w"> </span><span class="m">00</span>:00<span class="w">   </span>hello-0.1.0.dist-info/entry_points.txt
<span class="w">      </span><span class="m">433</span><span class="w">  </span><span class="m">02</span>-02-2020<span class="w"> </span><span class="m">00</span>:00<span class="w">   </span>hello-0.1.0.dist-info/RECORD
---------<span class="w">                     </span>-------
<span class="w">     </span><span class="m">1091</span><span class="w">                     </span><span class="m">6</span><span class="w"> </span>files
</code></pre></div>
<p>Depending on your local architecture, the path to the artifact may be different.</p>
<h2 id="adding-a-blueprint">Adding a Blueprint</h2>
<p>Catalyst Forge uses blueprint files in order to both identify projects within a repository as well as configure them.
Add a new file in the root of the project folder called <code>blueprint.cue</code> with the following contents:</p>
<div class="highlight"><pre><span></span><code>version: &quot;1.0.0&quot;
project: {
    name: &quot;hello-jmgilman&quot; // Replace &quot;jmgilman&quot; with your GitHub username
}
</code></pre></div>
<p>A blueprint file in a directory signifies that it is a <em>project</em> within a repository.
Many of the Catalyst automation systems interact with projects inside of a repository and use the existence of this file to
distinguish them.
For example, without this file, our <code>Earthfile</code> would be ignored by the CI system and none of our targets would run in the pipeline.</p>
<p>The only required field in a blueprint file is the project name (shown as <code>hello-jmgilman</code> above).
This name should be unique across all repositories and is used to distinguish the project in several area (i.e. the container name).
There are many more useful fields exposed in a blueprint file that can be explored later in the documentation.</p>
<h3 id="configuring-releases">Configuring Releases</h3>
<p>The last step before pushing our code is to configure our releases in the blueprint file.</p>
<div class="highlight"><pre><span></span><code>version: &quot;1.0.0&quot;
project: {
    name: &quot;hello-jmgilman&quot;
    release: {
        docker: {
            on: {
                merge: {}
                tag: {}
            }
            config: {
                tag: _ @forge(name=&quot;GIT_COMMIT_HASH&quot;)
            }
        }
        github: {
            on: tag: {}
            config: {
                name:   string | *&quot;dev&quot; @forge(name=&quot;GIT_TAG&quot;)
                prefix: project.name
                token: {
                    provider: &quot;env&quot;
                    path:     &quot;GITHUB_TOKEN&quot;
                }
            }
        }
    }
}
</code></pre></div>
<p>We've configured two releases: <code>docker</code> and <code>github</code>.
The "type" of the release is the same as the name.
Each release has an <code>on</code> field that specifies when the release is run and a <code>config</code> field that specifies type-specific options for
the release.
To learn more about releases, see the appropriate section in the documentation.</p>
<h2 id="testing-locally">Testing Locally</h2>
<p>Prior to pushing our changes in a PR, let's test the full CI pipeline locally:</p>
<div class="highlight"><pre><span></span><code>forge ci --local .
</code></pre></div>
<p>The <code>.</code> parameter is important as it will scope the CI run to only our project.
If everything is working correctly, all targets should be run in the correct order and pass with a green checkmark.
We've now built our sample application, validated and tested it, and even have potential publish and release artifacts for it.</p>
<h2 id="submiting-to-ci">Submiting to CI</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The CI system in the playground is not connected to any remote build servers for security reasons.
As a result, builds will <em>not</em> be cached and will start from scratch each time.</p>
</div>
<p>Now that we've validated everything locally, we will push our changes to a new branch and open up a PR.
After opening the PR, you should see a new GitHub Action workflow start.</p>
<p><img alt="The pipeline running in GitHub Actions" src="../images/gha.png" /></p>
<p>Examining the workflow, you can see that it follows the same steps as was shown in our local run.
The only difference is that <em>all</em> projects within the repository are being run in parallel.
If any of these projects fail, the entire pipeline will fail.
This is intentional, as all projects should be successfully building before merging a PR to the default branch.</p>
<h2 id="releasing-and-publishing">Releasing and Publishing</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The steps below require permissions to merge and tag the playground repository.
If you don't have these permissions, you may still read on for educational purposes.
Alternatively, you may seek someone out with the necesary permissions to help you (feel free to open an issue!).</p>
</div>
<p>Once the PR has successfully passed CI, proceed with merging it to the default branch (please use squash merges).
After the merge, a new GitHub Workflow will run for this particular commit.
Allow the workflow to run to completion before proceeding.</p>
<p>Once the workflow has completed, you'll notice a new package created for the GitHub Container Registry.
The package will have the same name as the one defined in <code>project.name</code> and, as we configured, will have a tag created that
matches the commit hash of the merge commit.
Since we configured the <code>docker</code> release to run on <code>merge</code> events (which defaults to merges to the main branch), it automatically
ran and published our container image.</p>
<p>For the final step, we will tag the repository with an application specific tag:</p>
<div class="highlight"><pre><span></span><code>git<span class="w"> </span>tag<span class="w"> </span>-a<span class="w"> </span><span class="s2">&quot;hello-jmgilman/v1.0.0&quot;</span><span class="w"> </span>-m<span class="w"> </span><span class="s2">&quot;My first version&quot;</span>
git<span class="w"> </span>push<span class="w"> </span>origin<span class="w"> </span>master
</code></pre></div>
<p>The convention used above is important: <code>&lt;project_name&gt;/&lt;version&gt;</code>.
By default, the <code>tag</code> event used in our <code>github</code> release type only triggers when a tag matching the project name is pushed.
This ensures that projects are all versioned separately in the repository.
After creating and pushing this tag, a new workflow is created and the CI pipeline runs again.
Allow the new workflow to run to completion before proceeding.</p>
<p>Once the workflow is completed, you'll notice that a new release is created on GitHub with the name set to our git tag (this is
what we configured the name to earlier).
The release will contain a single artifact which is the Python wheel created by our <code>github</code> release.
Notice that no other projects had a release added.</p>
<h2 id="conclusion">Conclusion</h2>
<p>That's it for this getting started tutorial.
You now understand the fundamentals of creating and managing projects using Catalyst Forge!</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © 2024 Input Output Global Ltd.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
      <div class="md-progress" data-md-component="progress" role="progressbar"></div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.tooltips", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>